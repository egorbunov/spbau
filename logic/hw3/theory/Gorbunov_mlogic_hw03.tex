\input{env.tex}
\title{Математическая логика. Домашнее задание №3}
\author{Горбунов Егор Алексеевич}

\begin{document}
\maketitle

\begin{task}[1]
Напишите нерекурсивное определение функции
\[ f(n) = \sum_{i < n} (f(i) + 1) \]
Докажите, используя (обобщенный) принцип индукции, равенство этих двух функций.
\end{task}
\begin{solution} Видимо, $f(0) = 0$, тогда:
\begin{align*}
	f(n) &= \sum_{i = 0}^{n- 1}{(f(i) + 1)} = f(0) + 1 + f(1) + 1 + \ldots + f(n-1) + 1 = n + f(n-1) + \ldots + f(1) = \\
	&= n + (n-1) + 2f(n-2) + 2f(n-3) + \ldots + 2f(1) = \\
	&= n + (n-1) + 2(n-2) + 4f(n-3) + 4f(n-4) + \ldots + 4f(1) = \\
	&= n + (n-1) + 2(n-2) + 4(n-3) + 8f(n-4) + 8f(n-5) + \ldots + 8f(1) = \\
	&= n + 2^0(n-1) + 2^1(n-2) + 2^2(n-3) + \ldots + 2^{k-1}(n-k) + \ldots + 2^{n-2} = \\
	&= n + \sum_{i = 1}^{n-1}{2^{i-1}(n-i)} = n + \frac{n}{2}\sum_{i=1}^{n-1}{2^{i}} - \sum_{i=1}^{n-1}{i2^{i-1}}
\end{align*}
Рассмотрим $F(z) = \sum_{i=1}^{n-1}{z^i} = \frac{z^n - z}{z - 1}$, тогда $F'(z) = \sum_{i=1}^{n-1}{iz^{i-1}} = \frac{1-nz^{n-1}+(n-1) z^{n}}{(z-1)^2}$. Таким образом:
\begin{align*}
	f(n) &= n + \frac{n}{2}F(2) - F'(2) = n + \frac{n}{2}{(2^n-2)} - 2^n(n-1) + n2^{n-1} - 1 = \\
		 &= n + n2^{n-1} - n - 2^n(n-1) + n2^{n-1} - 1 = n2^n - n2^n + 2^n - 1 =\\
		 &= 2^n - 1
\end{align*}
Теперь нужно показать равенство $2^n-1$ и $f(n)$ в исходном определении, т.е. доказать нужно следующее утверждение: 
\[
	P(n) = \big(2^n - 1 = \sum_{i < n} (f(i) + 1)\big)
\]
\begin{itemize}
	\item $P(0)$ верно, т.к. $f(0) = 0$ и $2^0 - 1 = 0$
	\item Пускай верно $P(n), P(n-1), \ldots, P(0)$, тогда докажем $P(S(n))$, т.е. $P(n+1)$. Раскроем рекурсивное определение, как делали это выше, и воспользуемся предположением:
	\begin{align*}
		f(n+1) &= n + 1 + f(n) + \ldots + f(1) = (n + 1) + \overbracket[1pt]{(2^n - 1) + (2^{n-1} - 1) + \ldots + (2^1 - 1)}^{n \text{ слагаемых}} = \\
		& = 1 + 2^1 + 2^2 + \ldots 2^{n} = 1 + 2^{n+1} - 2 =\\
		& = 2^{n+1} - 1
	\end{align*}
	Как видим, мы показали то, что требовалось.
\end{itemize}
\xqed
\end{solution}

\begin{task}[2]
Докажите, что принцип зависимой рекурсии эквивалентен принципам рекурсии и индукции.
\end{task}
\begin{solution}
Принцип зависимой рекурсии: для задания зависимой функции $f \in \prod_{n \in \mathbb{N}}{B(n)}$ достаточно задать:
\begin{align*}
	f(0) &= b,\ b \in B(0)\\
	f(S(n)) &= e,\ e \text{ --- выражение, задающее элемент } B(S(n))
\end{align*}
\begin{itemize}
	\item Покажем, как из принципа зависимой рекурсии следует принцип индукции. Положим нам хочется доказать $P(n)$. Зададим зависимые множества $B(n)$ так:
	\[
		\begin{array}{l}
		B(n) = \{ 1\},\text{ если верно } P(n)\\
		B(n) = \varnothing,\text{ если неверно } P(n)
		\end{array}
	\]
	Таким образом, чтобы доказать $P(n)$, нужно задать функцию $f \in \prod_{n \in \mathbb{N}}{B(n)}$ по принципу зависимой рекурсии. Если такую функцию удаётся задать, то $P(n)$ будет доказано.
	\item Покажем, как из принципа завиимой рекурсии следует принцип рекурсии: это просто, достаточно сказать, что $B(n)$ не зависит от $\mathbb{N}$, т.е. $B(n) = B$ и получится просто принцип рекурсии.
	\xqed
\end{itemize}
\end{solution}

\begin{task}[3]
Приведите контрпримеры, показывающие, что отдельно ни принципа рекурсии, ни принципа индукции не достаточно, чтобы гарантировать уникальность натуральных чисел.
    То есть нужно привести примеры множеств $\mathbb{N}_i$ вместе с $0_i \in \mathbb{N}_i$, $S_i : \mathbb{N}_i \to \mathbb{N}_i$, где $i \in \{ 1, 2 \}$,
    таких что $\mathbb{N}_1$ удовлетворяет принципу рекурсии, $\mathbb{N}_2$ удовлетворяет принципу индукции, но они не равномощны $\mathbb{N}$.
\end{task}
\begin{solution}
\begin{itemize}
	\item рассмотрим множество $\mathbb{N}_1 = \{ 0, 1, 2\}$ вместе с $0_1 = 0$ и $S_1(n) = (n + 1)\mod 3$. Оно удовлетворяет принципу рекурсии, т.к. можно сконструировать следующую функцию: $f(0) = 0_1,\ f(S(n)) = S_1(f(n))$. Но видно, что $|\mathbb{N}_1| = 3 < |\mathbb{N}|$.
	\item я чего-то не понимаю, но, кажется, что множество $\mathbb{N}_1 = \{ 0, 1, 2\}$ удовл. принципу индукции, т.е. если у нас есть предикат $P$ над этим множеством, то для его доказательства достаточно показать $P(0)$ и $P(S_1(n))$ если верно $P(n)$...
	\xqed
\end{itemize}
\end{solution}

\begin{task}[5]
Сформулируйте принципы рекурсии, индукции и зависимой рекурсии для множества $List(A)$.
\end{task}
\begin{solution}
\begin{itemize}
	\item Принцип рекурсии: для задания функции $f: List(A) \rightarrow B$ достаточно задать:
	\[
		\begin{array}{l}
			f(nil) = b\\
			f(cons(a, xs)) = e
		\end{array}
	\]
	Где, $b \in B$, а выражение $e$ может использовать $xs$ и задаёт элемент из $B$
	\item Принцип индукции: если мы хотим доказать, что для любого $xs \in List(A)$ верно $P(xs)$, то достаточно доказать:
	\begin{itemize}
		\item Верно $P(nil)$
		\item Для любого $xs \in List(A)$, если верно $P(xs)$, то для любого $a \in A$ верно $P(cons(a, xs))$
	\end{itemize}
	\item Принцип зависимой рекурсии: для задания зависимой функции $f \in \prod{xs \in List(A)}{B(xs)}$ нужно задать:
		\[
		\begin{array}{l}
			f(nil) = b\\
			f(cons(a, xs)) = e
		\end{array}
		\]
	Где, $b \in B(nil)$, а выражение $e$ может использовать $f(xs) \in B(xs)$ и задаёт элемент из $B(cons(a, xs))$
\end{itemize}
\end{solution}

\begin{task}[6]
Опишите индуктивным образом предикат на $\mathbb{N}$, задающий нечетные числа.
\end{task}
\begin{solution}
\begin{center}
\AxiomC{}
\UnaryInfC{$1\ is\ odd$}
\DisplayProof
\qquad
\AxiomC{$n\ is\ odd$}
\UnaryInfC{$n + 2\ is\ odd$}
\DisplayProof
\end{center}
\end{solution}

\end{document}

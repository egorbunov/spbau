#### Разбор контрольной

1. **Про протокол BATMAN.** Нужно зайти на сайт дистрибутива и скачать архив с исходным кодом именно той версии ядра, в которую хочется добавить протокол.
    ```bash
    cd /boot
    uname -a
    ```
Оттуда берём версию и соответствуенно получаем конфиг.

2. **Приемущества динамической загрузки драйверов**:
    - Модули по мере надобности могут загружаться и отгружаться
    - Загружаются только те драйверы, устройства которых используются
    - Драйверы находятся в невысваплеваемой памяти, а значит, т.к. используются только *нужные* драйвера, лишняя память не используется

3. **Как защищаются адреа ядра из пользователького процесса?** В дереве таблиц страниц, при работе в пространстве пользователя, ноды, относящиеся к страницам ядра, помечены как страницы привелигированного режима. Пользовательский процесс работает не в привелигированном режиме. При доступе к странице процессор проверяет флаги.

4. **Про char-девайс к командой ORDER PIZZA** Тут всё просто: `ioctl`, `read/wrtie`, создать файл (`sysfs`?).

5. **Проблемы с мапингом страницы** Там мы выделяли `512` байт, а юзеру отдаём целую страницу.

6. Выделение всего: 
    ```c
        // это за линию, а нужно просто добавить бин поиск, главное, чтобы
        // в конечном итоге минимальный возможный размер выделения mmap был PAGE_SIZE
        while(mmap(NULL, PAGE_SIZE) != MAP_FAILED)
    ```